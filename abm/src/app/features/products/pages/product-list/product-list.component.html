<div class="max-w-4xl mx-auto p-2 space-y-0 pt-20">

   <!-- Buscador -->
 <div class="flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-2">

    <button
      (click)="onCreate()"
      class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded shadow transition">
      Crear producto
    </button>

    <input
      type="text"
      [(ngModel)]="searchText"
      placeholder="Buscar producto..."
      class="border border-gray-300 rounded px-3 py-2 w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-blue-500"
    />
  </div>

  <!-- Tabla con paginación -->
<div class="overflow-x-auto rounded shadow">
  <table class="min-w-full bg-white divide-y divide-gray-200">
    <thead class="bg-gray-800 text-white">
      <tr>
        <th class="px-4 py-2 text-left font-medium">#</th>
        <th class="px-4 py-2 text-left font-medium">Nombre</th>
        <th class="px-4 py-2 text-left font-medium">Precio</th>
        <th class="px-4 py-2 text-left font-medium">Stock</th>
        <th class="px-4 py-2 text-left font-medium">Acciones</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200">
      <tr *ngFor="let pro of paginatedProducts; let i = index"
          class="hover:bg-gray-50">
        <td class="px-4 py-2">{{ i + 1 + pageIndex * pageSize }}</td>
        <td class="px-4 py-2">{{ pro.name }}</td>
        <td class="px-4 py-2">{{ pro.price | currency:'USD':'symbol' }}</td>
        <td class="px-4 py-2">{{ pro.stock }}</td>
        <td class="px-4 py-2 flex gap-2">
          <button (click)="onEdit(pro)" class="bg-yellow-400 hover:bg-yellow-500 text-white px-2 py-1 rounded transition">Editar</button>
          <button (click)="onDelete(pro.id)" class="bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded transition">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Paginador Material -->
<mat-paginator
  [length]="filteredProducts.length"
  [pageSize]="pageSize"
  [pageSizeOptions]="[5, 10, 20]"
  (page)="onPageChange($event)">
</mat-paginator>

</div>

  <!-- Modal -->
  <div *ngIf="isModalOpen" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-lg w-full max-w-lg p-6 relative">
      <app-product-form
        [product]="selectedProduct"
        (save)="onSave($event)"
        (cancel)="onCancel()">
      </app-product-form>
      <button (click)="onCancel()" class="absolute top-3 right-3 text-gray-500 hover:text-gray-700 text-lg font-bold">✕</button>
    </div>
  </div>



